import{_ as e,c as a,e as i,o as t}from"./app-LDBsZIJ8.js";const n={};function l(r,s){return t(),a("div",null,s[0]||(s[0]=[i(`<div class="hint-container tip"><p class="hint-container-title">Tips</p><p>The following actions require the user you are using to have <code>root</code> privileges.</p></div><h2 id="get-the-computer-version-information" tabindex="-1"><a class="header-anchor" href="#get-the-computer-version-information"><span>Get the Computer Version Information</span></a></h2><p>First, execute the command on the target machine to check the current computer version information:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hostnamectl</span></span></code></pre></div><p>The following output should be seen after successful execution:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span> Static hostname: server1</span></span>
<span class="line"><span>       Icon name: computer-server</span></span>
<span class="line"><span>         Chassis: server</span></span>
<span class="line"><span>      Machine ID: b3xxxxx22961xxxxxxc370fdxxxxxxxx</span></span>
<span class="line"><span>         Boot ID: 37xxxxx6c548xxxxxx40cd45xxxxxxxx</span></span>
<span class="line"><span>Operating System: Ubuntu 22.04 LTS</span></span>
<span class="line"><span>          Kernel: Linux 5.15.0-127-generic</span></span>
<span class="line"><span>    Architecture: x86-64</span></span>
<span class="line"><span> Hardware Vendor: IEIT SYSTEMS</span></span>
<span class="line"><span>  Hardware Model: NF5270M6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="find-the-appropriate-installation-package" tabindex="-1"><a class="header-anchor" href="#find-the-appropriate-installation-package"><span>Find the Appropriate Installation Package</span></a></h2><p>Go to the <a href="https://www.elastic.co/downloads/past-releases#elasticsearch" target="_blank" rel="noopener noreferrer">Elasticsearch official website</a> to find the version that suits your server system. In this example, we are using version <code>Elasticsearch 8.17.0</code>.</p><h2 id="download-and-install-the-package-on-the-machine" tabindex="-1"><a class="header-anchor" href="#download-and-install-the-package-on-the-machine"><span>Download and Install the Package on the Machine</span></a></h2><p>Right-click on the download link for the appropriate version to copy the link, or directly download it locally and then upload it to the target server. Alternatively, you can execute the command directly on a server that has access to the <code>Elasticsearch</code> official website:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.17.0-linux-x86_64.tar.gz</span></span></code></pre></div><h2 id="create-the-installation-directory" tabindex="-1"><a class="header-anchor" href="#create-the-installation-directory"><span>Create the Installation Directory</span></a></h2><p>Choose or create the directory where the <code>es</code> service will be installed, for example:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /haitian/service</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span></span></code></pre></div><h2 id="extract-the-installation-package-to-the-installation-directory" tabindex="-1"><a class="header-anchor" href="#extract-the-installation-package-to-the-installation-directory"><span>Extract the Installation Package to the Installation Directory</span></a></h2><p>Execute the following command in the directory where the installation package is located:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tar</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> xf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch-8.17.0-linux-x86_64.tar.gz</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -C</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /haitian/service/</span></span></code></pre></div><h2 id="create-a-symbolic-link" tabindex="-1"><a class="header-anchor" href="#create-a-symbolic-link"><span>Create a Symbolic Link</span></a></h2><p>Navigate to the installation directory and create a symbolic link:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /haitian/service/</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ln</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch-8.17.0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch</span></span></code></pre></div><h2 id="create-the-es-user" tabindex="-1"><a class="header-anchor" href="#create-the-es-user"><span>Create the es User</span></a></h2><p>Execute the following command at any location to create the <code>es</code> user:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">useradd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> esuser</span></span></code></pre></div><ol><li>Command Meaning</li></ol><ul><li><code>useradd</code>: Used to create a new user in the Linux system.</li><li><code>esuser</code>: The name of the new user you want to create.</li></ul><ol start="2"><li>Command Function</li></ol><p>After executing <code>useradd esuser</code>, the system will create a user named <code>esuser</code>. By default, this command will:</p><ul><li>Add an entry to the <code>/etc/passwd</code> file to represent the new user.</li><li>Create a unique user ID (UID) and a default group ID (GID).</li><li>If the default settings allow, it will create a home directory for the user (the exact behavior depends on the system configuration).</li></ul><h2 id="allow-the-es-user-to-lock-memory" tabindex="-1"><a class="header-anchor" href="#allow-the-es-user-to-lock-memory"><span>Allow the es User to Lock Memory</span></a></h2><p>Edit <code>/etc/security/limits.conf</code> and add the following content at the bottom, then save and exit:</p><div class="language-text" data-ext="text" data-title="text"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>esuser hard nofile 65536</span></span>
<span class="line"><span>esuser soft nofile 65536</span></span>
<span class="line"><span>esuser soft memlock unlimited</span></span>
<span class="line"><span>esuser hard memlock unlimited</span></span></code></pre></div><p>After adding, execute <code>sysctl -p</code> to update the configuration.</p><h2 id="modify-the-default-es-configuration-file" tabindex="-1"><a class="header-anchor" href="#modify-the-default-es-configuration-file"><span>Modify the Default es Configuration File</span></a></h2><p>Navigate to the <code>es</code> configuration directory and back up the default configuration file:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /haitian/service/elasticsearch/config</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch.yml</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch.yml.bak</span></span></code></pre></div><p>Edit the configuration file <code>vim elasticsearch.yml</code> and add the following content:</p><div class="language-yml line-numbers-mode" data-ext="yml" data-title="yml"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cluster.name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> es-cluster</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Name of the ES service, the name must be the same across all nodes</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">node.name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server1</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Alias of the node</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">path.data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /haitian/service/elasticsearch/data</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Data storage directory</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">path.logs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /haitian/service/elasticsearch/logs</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Log storage directory</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">bootstrap.memory_lock</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # Allow memory locking</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">network.host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.0.0.0</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # Allow access from all IPs, set as needed</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">http.port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9200</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Service port</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">discovery.seed_hosts</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">xx.xx.xx.xx</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">xx.xx.xx.xx</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">xx.xx.xx.xx</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ]</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Node IP addresses</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cluster.initial_master_nodes</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">xx.xx.xx.xx</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">xx.xx.xx.xx</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">xx.xx.xx.xx</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ]</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # List of IPs allowed to perform master node election. It helps with the initial master node election and ensures the cluster starts properly to prevent split brain issues.</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">action.auto_create_index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Controls whether Elasticsearch allows auto-creation of indexes. It decides whether new indexes will be created automatically when they don&#39;t exist.</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">xpack.security.transport.ssl.enabled</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Disable SSL encryption for communication between Elasticsearch nodes (Transport communication).</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">xpack.security.http.ssl.enabled</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Disable SSL encryption for HTTP communication between the client and Elasticsearch.</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">xpack.security.enabled</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Fully disable X-Pack security features. The last three parameters can be adjusted depending on the situation if there is professional maintenance.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#xpack.security.enabled: true</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#xpack.security.transport.ssl.enabled: true</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#xpack.security.transport.ssl.verification_mode: certificate</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#xpack.security.transport.ssl.keystore.path: elastic-certificates.p12</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#xpack.security.transport.ssl.truststore.path: elastic-certificates.p12</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="add-hosts-mapping" tabindex="-1"><a class="header-anchor" href="#add-hosts-mapping"><span>Add Hosts Mapping</span></a></h2><p>Edit the <code>/etc/hosts</code> file and add the following content at the bottom:</p><div class="language-text" data-ext="text" data-title="text"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>xx.xx.xx.xx server1</span></span>
<span class="line"><span>xx.xx.xx.xx server2</span></span>
<span class="line"><span>xx.xx.xx.xx server3</span></span></code></pre></div><h2 id="add-data-directory" tabindex="-1"><a class="header-anchor" href="#add-data-directory"><span>Add Data Directory</span></a></h2><p>In the <code>es</code> installation root directory, create the corresponding data directory as specified in the <code>elasticsearch.yml</code> file:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> data</span></span></code></pre></div><h2 id="grant-write-permissions-to-the-es-user" tabindex="-1"><a class="header-anchor" href="#grant-write-permissions-to-the-es-user"><span>Grant Write Permissions to the es User</span></a></h2><p>Grant the newly added <code>esuser</code> write permissions to ensure data can be written correctly:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> esuser:esuser</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /haitian/service/elasticsearch-8.17.0</span></span></code></pre></div><h2 id="edit-the-es-daemon-configuration-file" tabindex="-1"><a class="header-anchor" href="#edit-the-es-daemon-configuration-file"><span>Edit the es Daemon Configuration File</span></a></h2><p>Edit the <code>/lib/systemd/system/elasticsearch.service</code> file and add the following configuration:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=Elasticsearch Service</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>Environment=JAVA_HOME=/haitian/service/elasticsearch/jdk</span></span>
<span class="line"><span>Type=forking</span></span>
<span class="line"><span>User=esuser</span></span>
<span class="line"><span>LimitNOFILE=100000</span></span>
<span class="line"><span>LimitMEMLOCK=infinity</span></span>
<span class="line"><span>LimitNPROC=65535</span></span>
<span class="line"><span>ExecStart=/haitian/service/elasticsearch/bin/elasticsearch -d -p /haitian/service/elasticsearch/logs/elasticsearch.pid</span></span>
<span class="line"><span>ExecStop=kill \`cat /haitian/service/elasticsearch/logs/elasticsearch.pid\`</span></span>
<span class="line"><span>RestartSec=3</span></span>
<span class="line"><span>StartLimitBurst=5</span></span>
<span class="line"><span>Restart=always</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Note that the configuration parameters related to paths in the configuration file must be consistent with the paths you have set.</p></div><p>Refresh the configuration</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> daemon-reload</span></span></code></pre></div><h2 id="modify-the-es-service-memory-usage" tabindex="-1"><a class="header-anchor" href="#modify-the-es-service-memory-usage"><span>Modify the es Service Memory Usage</span></a></h2><p>Navigate to the es installation directory and edit <code>config/jvm.options</code> to modify the following parameters:</p><div class="language-text" data-ext="text" data-title="text"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>-Xms16g  # Set according to your computer&#39;s memory size, typically half of the total memory. Here, the computer has 32GB of memory.</span></span>
<span class="line"><span>-Xmx16g  # Same as above</span></span></code></pre></div><h2 id="start-the-es-service" tabindex="-1"><a class="header-anchor" href="#start-the-es-service"><span>Start the es Service</span></a></h2><p>Execute the command to start the <code>es</code> service:</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch.service</span></span></code></pre></div><p>Add the es service to system services</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch</span></span></code></pre></div><p>Check the service execution status</p><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> elasticsearch</span></span></code></pre></div><p>If successful, you will see something similar to the following:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>● elasticsearch.service - Elasticsearch Service</span></span>
<span class="line"><span>     Loaded: loaded (/lib/systemd/system/elasticsearch.service; enabled; vendor preset: enabled)</span></span>
<span class="line"><span>     Active: active (running) since Thu 2024-12-26 05:57:36 UTC; 2h 33min ago</span></span>
<span class="line"><span>    Process: 6743 ExecStart=/home/haitian/service/elasticsearch/bin/elasticsearch -d -p /home/haitian/service/elasticsearch/logs/elasticsearch.pid (code=exited, status=0/SUCCESS)</span></span>
<span class="line"><span>   Main PID: 6816 (java)</span></span>
<span class="line"><span>      Tasks: 238 (limit: 37950)</span></span>
<span class="line"><span>     Memory: 17.5G</span></span>
<span class="line"><span>        CPU: 6min 14.055s</span></span>
<span class="line"><span>     CGroup: /system.slice/elasticsearch.service</span></span>
<span class="line"><span>             ├─6816 /home/haitian/service/elasticsearch/jdk/bin/java -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.&gt;</span></span>
<span class="line"><span>             └─6870 /home/haitian/service/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/controller</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Dec 26 05:57:34 server2 elasticsearch[6816]: [2024-12-26T05:57:34,367][INFO ][o.e.x.d.l.DeprecationIndexingComponent] [server2] deprecation component started</span></span>
<span class="line"><span>Dec 26 05:57:34 server2 elasticsearch[6816]: [2024-12-26T05:57:34,428][INFO ][o.e.t.TransportService   ] [server2] publish_address {xx.xx.xx.xx:9300}, bound_addresses {[::]:9300}</span></span>
<span class="line"><span>Dec 26 05:57:35 server2 elasticsearch[6816]: [2024-12-26T05:57:35,078][INFO ][o.e.b.BootstrapChecks    ] [server2] bound or publishing to a non-loopback address, enforcing bootstrap checks</span></span>
<span class="line"><span>Dec 26 05:57:35 server2 elasticsearch[6816]: [2024-12-26T05:57:35,081][WARN ][o.e.c.c.ClusterBootstrapService] [server2] this node is locked into cluster UUID [BX97hvt_TgePRe-k7o2c_A] but [cluster.init&gt;</span></span>
<span class="line"><span>Dec 26 05:57:35 server2 elasticsearch[6816]: [2024-12-26T05:57:35,632][INFO ][o.e.c.s.ClusterApplierService] [server2] master node changed {previous [], current [{server1}{gVMoUjG1RBO_85cb2e2wsw}{7sgO&gt;</span></span>
<span class="line"><span>Dec 26 05:57:35 server2 elasticsearch[6816]: [2024-12-26T05:57:35,648][INFO ][o.e.c.s.ClusterSettings  ] [server2] updating [xpack.monitoring.collection.enabled] from [false] to [true]</span></span>
<span class="line"><span>Dec 26 05:57:35 server2 elasticsearch[6816]: [2024-12-26T05:57:35,989][INFO ][o.e.l.ClusterStateLicenseService] [server2] license [39bb98a8-622d-443b-86e5-765273df2139] mode [basic] - valid</span></span>
<span class="line"><span>Dec 26 05:57:35 server2 elasticsearch[6816]: [2024-12-26T05:57:35,995][INFO ][o.e.h.AbstractHttpServerTransport] [server2] publish_address {xx.xx.xx.xx:9200}, bound_addresses {[::]:9200}</span></span>
<span class="line"><span>Dec 26 05:57:36 server2 elasticsearch[6816]: [2024-12-26T05:57:36,006][INFO ][o.e.n.Node               ] [server2] started {server2}{fGIwpTAZSKSNO6ncsONurQ}{DxsV34E3SzOhwzFNoeRy1w}{server2}{10.10.7.4&gt;</span></span>
<span class="line"><span>Dec 26 05:57:36 server2 systemd[1]: Started Elasticsearch Service.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,64)]))}const c=e(n,[["render",l],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/en/article/gysu4vtj/","title":"The deployment process for an Elasticsearch (ES) cluster","lang":"en-US","frontmatter":{"title":"The deployment process for an Elasticsearch (ES) cluster","tags":["es","Cluster","Installation"],"createTime":"2024/12/26 14:36:14","permalink":"/en/article/gysu4vtj/","description":"Tips The following actions require the user you are using to have root privileges. Get the Computer Version Information First, execute the command on the target machine to check...","head":[["meta",{"property":"og:url","content":"https://yuanshao-blog.netlify.app/en/article/gysu4vtj/"}],["meta",{"property":"og:site_name","content":"HunterX"}],["meta",{"property":"og:title","content":"The deployment process for an Elasticsearch (ES) cluster"}],["meta",{"property":"og:description","content":"Tips The following actions require the user you are using to have root privileges. Get the Computer Version Information First, execute the command on the target machine to check..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-01-16T07:43:39.000Z"}],["meta",{"property":"article:tag","content":"es"}],["meta",{"property":"article:tag","content":"Cluster"}],["meta",{"property":"article:tag","content":"Installation"}],["meta",{"property":"article:modified_time","content":"2025-01-16T07:43:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"The deployment process for an Elasticsearch (ES) cluster\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-16T07:43:39.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":3.98,"words":1193},"git":{"updatedTime":1737013419000,"contributors":[{"name":"袁少航","username":"袁少航","email":"yuanshaohang@dataoceanai.com","commits":1,"avatar":"https://avatars.githubusercontent.com/袁少航?v=4","url":"https://github.com/袁少航"}]},"autoDesc":true,"filePathRelative":"en/Cloud & Deployment/es-cluster-deployment.md","categoryList":[{"id":"7efd21","sort":10002,"name":"Cloud & Deployment"}],"bulletin":true}');export{c as comp,d as data};
